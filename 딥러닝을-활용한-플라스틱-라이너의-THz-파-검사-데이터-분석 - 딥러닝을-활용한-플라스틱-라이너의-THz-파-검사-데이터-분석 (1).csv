"초 록 타입 Ⅳ 수소 압력용기는 비금속 라이너인 플라스틱 라이너로 제작되며, 탄소섬유로 감싸져 있어 다"
른 유형의 수소 압력용기에 비해 가볍지만 강도가 높다. 그러나 플라스틱 라이너의 두께가 일정하지 않거나
"결함이 존재하는 경우, 700bar의 초고압의 액화수소를 담는 과정에서 압력용기의 파손이 일어날 수 있다. 타"
입 Ⅳ 수소 압력용기 제작은 플라스틱 라이너 제작 후 탄소섬유를 감아 수소 압력용기를 제작하기 때문에
플라스틱 라이너의 두께 결함을 확인하기 어려우므로 탄소섬유를 감기 전 플라스틱 라이너의 두께 및 결함
"을 테라헤르츠 파를 사용하여 검사하였다. 이때, 두께 2 mm와 4 mm의 플라스틱 라이너 시편의 25 × 50 mm2"
"결함 영역 내에 지름(1, 2, 3 mm)과 깊이(0.2, 0.4, 0.6, 0.8 mm)가 다른 결함을 제작하여 검사를 진행하였다."
"그 결과, 모든 조합의 결함을 검출할 수 있었고 두께별 딥러닝을 통해 평균 약 98.68%의 정확도로 결함을 분"
류하였다.
"주요용어: 딥러닝, 비파괴 검사, 수소 압력용기, 테라헤르츠, 플라스틱 라이너"
Fig. 1   Types of hydrogen pressure vessels[4]           충분한 두께를 가져야 한다. 두께가 충분하지 않
으면 수소가 플라스틱 라이너를 통과하여 내부로
화학 반응을 이용하여 수소를 생산하는 방식은                                  확산되어 플라스틱 라이너의 물리적 손상이나 화
"온실가스를 배출하지 않으며 많은 양의 에너지나                                 학적 변화를 유발할 수 있으며, 이로 인해 플라"
"높은 생산 비용이 필요 없다[1,2]. 수소를 이용한                             스틱 라이너가 손상되거나 내부 환경이 오염될"
"차량은 전기차에 비해 충전 시간이 빠르며, 수소                                수 있다[8]. 따라서 제조 과정에서 플라스틱 라이"
를 충전하는 과정은 5분 이내에 완료될 수 있어                                너의 두께를 일정하게 유지하기 위한 품질 관리
편리한 장점이 있지만 폭발에 대한 위험성이 존                                 절차가 중요하다.
재하여 수소 연료를 보관하는 수소 내압 용기에                                    플라스틱 라이너의 품질 관리를 위한 내구성
대한 안전성이 요구되고 있다[3].                                       검사에 대한 연구 사례는 다음과 같다. 타입 Ⅳ
초기 수소 압력용기는 Fig. 1과 같이 금속 라                              수소 압력 용기의 수소의 충방전 시 탄소 섬유
이너를 사용하여 제작하였다. 금속 라이너는 제                                 복합재와 플라스틱 라이너 사이의 압력 차이가
"작이 쉽고 신뢰도가 높지만, 압력용기의 무게가                                 발생하는데, 플라스틱 라이너의 영구 변형으로"
무거워 에너지 변환 효율이 떨어진다. 이와 같은                                이루어질 수 있다. Fig. 2와 같이 압력 테스트
단점을 보완하기 위해서 최근에는 금속 라이너가                                 (Pressure Test)를 통해 플라스틱 라이너의 파손을
"아닌 플라스틱 라이너와 탄소섬유를 이용한 타입                                 확인한 연구 사례가 있다[9]. 또한, 수압 시험"
Ⅳ 수소 압력용기를 개발하여 사용 중이다. 타입                                (Water-pressurizing Test)을 통해 플라스틱 라이너
Ⅳ 수소 압력용기는 가벼우면서도 강도가 뛰어나                                 의 두께를 음향 방출 검사(Acoustic Emission Test)
기 때문에 700bar의 고압 수소를 안전하게 보관                              로    확인한        사례도      있다.      플라스틱       라이너에
"할 수 있으며, 차량의 무게를 줄이고, 에너지 효                               100MPa/min의 속도의 수압을 가하면 축 방향으로"
"율성을 향상할 수 있다[4]. 하지만, 기존 용기 대                             약 0.25 mm에서 0.70 mm까지 두께가 증가하였"
"비 비파괴 검사 기법이 확보되지 않아 안전성 및                                고, 방사형으로 최대 약 0.40 mm 두께로 플라스"
신뢰성 평가를 위해 파괴적인 방법을 사용하여                                  틱 라이너 원통의 중앙 부분 변형을 확인하였다
"검증하고 있다[5,6]. 일부 비파괴적인 방법을 활                              [10]. 이와 같이, 플라스틱 라이너의 내구성 검사"
용하여 타입 IV 용기를 검사하고자 하는 시도[7]                              대부분은 파괴 검사를 통해 내부 및 외부 결함을
"도 수행되고 있지만, 아직 명확한 기준이 없는                                 조사한다. 그러나 이러한 방법은 반복적으로 수"
"것이 현실이다.                                                  행하기 어려우며, 시간이 지남에 따라 변화하는"
우선 본 연구에서는 타 용기 타입 대비 타입                                 결함을 감지하기 어렵다. 파괴 검사가 아닌 제작
과정에서 진행할 수 있는 비파괴 검사를 이용하                                            Gate mechanism
여 플라스틱 라이너의 내부 결함에 대한 검사가
필요하다.                                                    딥러닝은 컴퓨터가 인간의 두뇌 작동 방식을
비파괴 검사 기법에서 많이 사용하는 초음파                               모델로 삼아 학습하는 인공지능 기술이다. 현재
검사(Ultrasonic Test)는 젤 등의 매체를 통한 프                     많이 사용하는 기법은 CNN(Convolutional Neural
"로브와 검사 표면의 물리적 접촉이 필요하며, 매                             Network), RNN(Recurrent Neural Network), LSTM"
"질의 표면상태와 균질도, 매질간 굴절률의 차이                              (Long     Short   Term        Memory),     GAN(Generative"
등에 많은 영향을 받는다. 또한 X-ray를 이용한                           Adversarial Network) 등이 있고 각 알고리즘의 구
방사선 검사(Radiation Test)는 방폭시설 설치가                       조와 특징은 Fig. 3과 Table 1에 정리하였다.
"필요하며, 인체에 유해한 파로 검사자의 안전성                                Fig. 3의 CNN은 이미지 처리에 주로 사용되는"
"측면에서 단점이 있다. 초음파 검사와 같이 물리                             딥러닝 기법으로, 공간적 구조를 학습하여 이미"
"적 접촉이 필요 없고, 방사선 검사와 같이 검사                             지를 분류하거나 다양한 작업을 수행하는 데 효"
자의 건강에 대한 위험이 적은 THz 파를 이용한                            과적이다. CNN은 일반적으로 합성곱 레이어와
비파괴 검사를 수행하고자 하였다.                                     풀링 레이어가 번갈아 쌓이는 구조를 가지고 있
THz 파는 적외선과 마이크로파의 중간 범위에                             다. RNN은 시퀀스 데이터를 처리하는 데 특화된
"속하는 전자기파로, 주파수 범위는 약 0.1 ~ 10                          신경망 구조로, 각 시간 단계에서 입력과 이전"
THz(파장 1 mm ~ 30 μm)이다. THz 파는 금속(플                    시간 단계의 은닉 상태를 입력으로 받아 현재 시
"라스틱, 목재, 종이, 직물 등)을 제외한 거의 모                           간 단계의 출력과 새로운 은닉 상태를 생성한다."
든 재료 내부를 침투할 수 있다[11]. THz 파를                          RNN은 데이터의 순서와 패턴을 학습하고 손실
활용하여 고밀도 폴리에틸렌 층 사이의 오염 및                              을 최소화하기 위해 은닉층과 은닉 상태를 사용
"박리를 350 μm의 결함 검출이 가능하였고, 알루                           하며, 각 단기 의존성을 처리할 수 있지만 장기"
미나 세라믹-알루미늄 복합재에 대해 내부 균열                              의존성에는 어려움이 있다. LSTM은 RNN의 장기
"과 기공 등의 검출을 확인하였다[12, 13]. 이를                          의존성을 보완하기 위해 고안된 모델로, 망각 게"
통해 THz 파에 대한 비금속 구조물의 결함 검출                            이트와 셀 상태가 추가되었다. 망각 게이트는 시
"가능성을 확인하였고, THz 파를 이용하여 플라스                            간 단계의 은닉 상태를 유지할지 결정하고 셀 상"
틱 라이너에 대한 결함 검출을 진행하였다. THz                            태는 장기 상태 정보를 저장한다.
파를 포함한 비파괴 검사 기술은 검사자의 경험                                LSTM은 긴 시퀀스에서 발생하는 장기 의존성
에 따라 결함 검출 정확도가 달라질 수 있다. 검                            을 효과적으로 학습하고 정보의 흐름을 조절하여
사자의 경험과 함께 딥러닝 기술을 이용하면 결                              중요한 정보를 보존할 수 있다. LSTM은 CNN에
함 검출 정확도가 높아질 수 있다.                                    비해 시계열 데이터 처리가 우수하고 RNN에 비
"              Journal of the Korean Society for Nondestructive Testing, Vol. 44, No. 2: 112-121, 2024   115"

"해 더 긴 시간 간격의 의존성을 학습할 수 있다.                                 25×50 mm2의 영역에서 지름 1 mm, 2 mm, 3"
"적외선 열화상 기법을 이용하여 유리섬유 강화                                    mm와 깊이 0.2 mm, 0.4 mm, 0.6 mm, 0.8 mm의"
플라스틱과 페놀수지로 제작된 벌집 구조물의 내                                   조합으로 결함을 제작하였다. Fig. 5(b)처럼 XY
"부를 검사한 후, LSTM을 기반으로 90%의 정확                                stage에 장착하여 0.2 mm 간격으로 진행하여"
도를 확인한 연구결과도 존재한다[14].                                      125×250 point 영역의 검사 데이터를 얻었다.
이러한 문헌조사를 통해 본 논문에서는 비금속                                     THz 파의 peak to peak time과 굴절률을 이용
재료에 활용가능한 비파괴 검사 기법인 THz 파                                  하여 식 (1)을 사용하여 매질의 두께를 계산할
검사와 결함 검출 정확도를 높일 수 있는 LSTM                                 수 있다.
딥러닝 기법을 사용하여 결함 검출을 진행하였다.
수소 내압 용기용 플라스틱 라이너의 결함을                                      식 (1)을 이용하여 플라스틱 라이너 시편의 두
"검사하기 위해, THz 파 검사 셋업을 Fig. 4과"
Fig. 5(a)~(b)와 같이 진행하였다. Fig. 4는 광전도
안테나(PCA) 기반 펄스형 THz 시간 영역 분광
"(terahertz time domain spectroscopy, THz-TDS) 시"
스템을 이용하여 검사하였다. 구성요소는 펨토초
"레이저, 시간 지연 장치, 데이터 취득 장치, THz"
"안테나, THz 수신기 등으로 구성되어 있다. 펨토"
초 레이저에서 THz 파가 발생하게 되면 THz 송
신기(emitter)로 전달되고 광전도 방식 측정을 위
해 광학 지연 장치(optical delay unit)를 거친 후
최종적으로 THz 수신기(detecter)에서 THz 파를                                                       (a)
수신한다. THz-TDS 시스템은 신호의 peak을 이
용하여 시편 두께의 확인이 가능하다. THz 파가
공기층에서 시편으로 입사하면 굴절률이 달라진
다. 이때 매질 경계에서 일부 파가 반사되어 이
를 감지할 수 있다.
실제 타입 Ⅳ 수소 압력 용기의 플라스틱 라이
너의 형상에 대한 검사 전 Fig. 5(a)와 같이 실제
용기 검사와 동일한 재질의 플라스틱 라이너 시
"편을 제작하였다. 2가지 두께(2 mm, 4 mm)에"
두께를 계산하였다. 실제 결함의 깊이와 THz 파
검사 신호의 깊이 오차 평균은 약 1.57%로 나타
났다.
검사 영역에 대하여 두께 검출 후 THz 파 검                                        Fig. 9 LSTM layer for deep learning
사 데이터를 영상으로 가시화하여 플라스틱 라이
너 시편의 결함 위치와 크기를 확인하였다. Fig.
8 (a)~(b)와 같이 가장 깊은 0.8 mm의 깊이부터
"가시화되고, 0.6 mm, 0.4 mm, 0.2 mm 순서로 가"
"시화되었다. 각 깊이(0.8 mm, 0.6 mm, 0.4 mm,"
"0.2 mm)에서 지름 1 mm, 2 mm, 3 mm 크기의"
결함을 모두 확인하였다.
가시화 결과인 Fig. 8(a)~(b)와 THz 검사 데이
터를 이용하여 정확하게 결함 크기 및 깊이를 분
류 및 판별하기 위해서 딥러닝을 진행하였다.
Fig. 10 Deep learning training options
2.3 THz 검사 데이터를 이용하기 위한 딥러닝
설정                                                      LSTM의 레이어와 훈련 옵션을 나타내었다.
Fig. 9는 LSTM의 레이어를 나타내었다. 위에서
Fig. 8(a)~(b)와 같이 검사 영역의 시간 축 영상                         부터 ‘sequenceInputLayer’는 신경망에 시퀀스 데
"을 가시화하여 결함을 확인하고, MATLAB 내의                                이터를       입력하고         데이터       정규화를       적용하고,"
이미지 라벨링 작업을 사용하여 정상 영역과 결                                  ‘reluLayer’는 입력값의 각 요소에 대해 0보다 작
함 영역을 구분한 이미지 값을 얻었다. 이후 생                                 은 값은 모두 0으로 설정하는 임계값 연산을 수
성되는 이미지 값을 실제 THz 파의 검사 데이터                                행한다. ‘lstmLayer’는 시계열 및 시퀀스 데이터에
검사 영역과 일치하는 작업을 진행한다. 생성되                                  서 시간 스텝 간의 장기 종속성을 학습하는
는 데이터는 딥러닝에 필요한 원시 신호 데이터                                  RNN 계층이고 ‘batchNormalizationLayer’는 각 채
가 되고 훈련 데이터와 테스트 데이터로 분류한                                  널에 대한 모든 관측 값에서 데이터의 미니 배치
다. 분류한 훈련 데이터와 테스트 데이터를 이용                                 를 독립적으로 정규화 한다. ‘fullyconnectedLayer’
하여 LSTM을 진행하였다. Fig. 9과 Fig. 10에                           는 입력값에 가중치 행렬을 곱한 다음 편향 벡터
"118                       Jae-Ho Dong, Semo Kim, Hye-Lim Jang and Lae-Hyong Kang"
를 더하고 ‘softmaxLayer’는 입력값에 소프트맥스                       신경망 훈련의 검증 중지 인내도이다. ‘Sequence
함수를 적용한다. 마지막 ‘classificationLayer’는 교                 Length’는 입력 시퀀스를 분할하는 옵션이다. 딥
차 엔트로피 손실 함수를 사용하여 영상 영역을                              러닝 훈련 옵션은 실험을 통해서 선정하였다.
사물 또는 배경으로 분류한다. 딥러닝의 계층은                              ‘Sequence Length’는 입력 시퀀스를 분할하는 옵
실험을 통해서 선정하였다.                                         션이다. 딥러닝 설정에서 중요한 값으로 알려진
"Fig. 10은 딥러닝 훈련 옵션을 나타내었다. 위                         초기 학습률, Epoch의 최대 횟수, 그리고 미니"
에서부터 ‘InitialLearnRate’는 훈련에 사용할 초기                    배치의       크기에       해당하는         ‘InitialLearnRate’와
"학습률이고, ‘LearnRateSchedule’은 훈련 중 학습                    ‘MaxEpochs’, ‘MiniBatchSize’ 옵션을 변경하였다."
"률 감소 옵션으로 ‘LearnRateDropFactor’는 학습률                   다른 옵션들은 기본값으로 유지하였으며, 연구에"
감소 인자로 0과 1 사이의 스칼라로 지정한다.                             사용된 PC의 사양에 맞춰서 이 세 가지 옵션을
‘LearnRateDropPeriod’는 학습률을 낮출 Epoch(데                 조정하였다.
이터를 한 번 완전히 통과하는 것)의 주기이고
‘L2Regularization’은 L2 정규화(가중치 감쇠) 인자                  2.4 플라스틱 라이너 시편의 결함 검출을 위한
이다. ‘MaxEpochs’는 훈련에 사용할 Epoch의 최대                         딥러닝 결과
횟수이고 ‘MiniBatchSize’는 각 훈련 반복마다 사
용할 미니 배치의 크기이다. ‘ValidationFrequency’                    두께 2 mm 플라스틱 라이너 시편의 딥러닝 소
"는 신경망 검증 빈도이고 ‘ValidationPatience’는                    요 시간은 34분 37초 소요되었으며, Fig. 11(a)~(b)"
와 같이 약 99.31%의 분류 정확도를 확인하였다.                               결함까지 검출이 가능하다는 것을 확인하였다.
"한편, 두께 4 mm 플라스틱 라이너 시편의 딥러                                    두께 4 mm 플라스틱 라이너 시편의 결함 깊이"
"닝 소요 시간은 20분 52초로, Fig. 12(a)~(b)와 같"
이 약 98.68%의 분류 정확도를 확인하였다.
"추가로, 딥러닝으로 플라스틱 라이너 시편의"
결함 깊이가 구별이 가능한지 확인하였다. 두께
2 mm 플라스틱 라이너 시편의 결함 깊이별 딥
러닝 결과는 Fig. 13(a)~(b)와 같이 약 98.79%의
분류 정확도를 확인하였다. 결함 깊이 중 0.2
mm의 정확도가 약 80.81%로 가장 낮게 산출되
었고 0.6 mm의 정확도가 약 91.83%로 가장 높았
다. Fig. 13(b)의 결함 깊이 중 0.2 mm의 정확도
가 0.6 mm의 정확도보다 낮게 나온 이유는 Fig.
8(a)의 가시화 결과를 기반으로 Fig. 14와 같이
분류하는 과정 중 깊이 0.2 mm의 결함 분류 중
경계면에서 정상 신호의 일부가 포함되어 발생한
문제로 판단한다. 각 결함별 정확도의 차이가 존